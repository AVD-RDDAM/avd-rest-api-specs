import "@azure-tools/cadl-azure-core";
import "@cadl-lang/rest";

import "./models/completions.create.cadl";
import "./models/embeddings.create.cadl";

using Cadl.Rest;
using Cadl.Http;
using Azure.Core;

namespace Azure.OpenAI;

interface Operations {
  #suppress "@azure-tools/cadl-azure-core/use-standard-operations" "This is an existing service, we have a non-conforming operation."
  @summary("Create a completion from a chosen model")
  @doc("Create a completion from a chosen model")
  @route("/deployments/{deploymentId}/completions")
  @post
  CompletionsCreate is Foundations.Operation<
    CompletionsCreateRequest,
    CompletionsCreateResponse
  >;

  #suppress "@azure-tools/cadl-azure-core/use-standard-operations" "This is an existing service, we have a non-conforming operation."
  @summary("Return the embeddings for a given prompt.")
  @doc("Return the embeddings for a given prompt.")
  @route("/deployments/{deploymentId}/embeddings")
  @post
  EmbeddingsCreate is Foundations.Operation<
    EmbeddingsCreateRequest,
    object // using "void" as a type will generate a 204 response with no body, we are aiming for a 200 with an empty object
  >;
}

